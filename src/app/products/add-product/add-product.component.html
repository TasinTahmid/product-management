<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-12 col-md-9 col-lg-7">
      <div class="header text-center">
        <h3 class="fw-bold">
          {{ isEditMode ? "Update Product" : "Create New Product" }}
        </h3>
      </div>

      <form class="mt-4" (ngSubmit)="onSubmit()">
        <!-- Name Input -->
        <div class="mb-3">
          <label for="productName" class="form-label">Name</label>
          <input
            type="text"
            class="form-control"
            id="productName"
            placeholder="Enter product name"
            [(ngModel)]="product.name"
            name="name"
          />
        </div>

        <!-- Description Text Area -->
        <div class="mb-3">
          <label for="productDescription" class="form-label">Description</label>
          <textarea
            class="form-control"
            id="productDescription"
            rows="3"
            placeholder="Enter product description"
            [(ngModel)]="product.description"
            name="description"
          ></textarea>
        </div>

        <!-- Category Dropdown -->
        <div class="mb-3">
          <label for="productCategory" class="form-label">Category</label>
          <select
            class="form-select"
            id="productCategory"
            [(ngModel)]="selectedCategory"
            (change)="onCategoryChange($event)"
            name="category"
          >
            <option selected [ngValue]="''">Select a category</option>
            <option *ngFor="let category of categories" [value]="category">
              {{ category }}
            </option>
            <option value="add-new">Add New Category</option>
          </select>
        </div>
        <div *ngIf="isAddingNewCategory" class="mt-3">
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              [(ngModel)]="newCategory"
              placeholder="Enter new category"
              (keyup.enter)="addNewCategory()"
            />
            <div class="input-group-append">
              <button class="btn btn-primary ml-2" (click)="addNewCategory()">
                Add
              </button>
            </div>
          </div>
        </div>

        <!-- Quantity Number Input -->
        <div class="mb-3">
          <label for="productQuantity" class="form-label">Quantity</label>
          <input
            type="number"
            class="form-control"
            id="productQuantity"
            placeholder="Enter quantity"
            [(ngModel)]="product.quantity"
            name="quantity"
          />
        </div>

        <!-- Unit Price Number Input -->
        <div class="mb-3">
          <label for="productUnitPrice" class="form-label">Unit Price</label>
          <input
            type="number"
            step="0.01"
            class="form-control"
            id="productUnitPrice"
            placeholder="Enter unit price"
            [(ngModel)]="product.unitPrice"
            name="unitPrice"
          />
        </div>

        <!-- Create Date Input -->
        <div class="mb-3">
          <label for="productCreateDate" class="form-label">Create Date</label>
          <input
            type="date"
            class="form-control"
            id="productCreateDate"
            [(ngModel)]="formattedCreateDate"
            name="createdAt"
          />
        </div>

        <!-- Submit Button -->
        <hr class="mt-2 mb-4" />
        <div class="d-flex justify-content-end">
          <button type="submit" class="btn btn-primary">
            {{ isEditMode ? "Update Product" : "Create Product" }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
